<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Implementing Basics </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Implementing Basics ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
    <link rel="stylesheet" href="../../styles/colors.css">
    <link rel="stylesheet" href="../../styles/discord.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>

  <body>
        <div class="top-navbar">

            <a href="javascript:void(0);" class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="24" height="24" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../../index.html">
              <img src="../../logo.svg" alt="" class="logomark">
              <span class="brand-title"></span>
            </a>
        </div>

        <div class="body-content">

            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../index.html">
                        <img src="../../logo.svg" alt="" class="logomark">
                        <span class="brand-title"></span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>


                    <div class="sidebar-item-separator"></div>

                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>

                </div>

                <div class="footer">
                  
                  <span>Generated by <strong>DocFX</strong></span>
                </div>
            </nav>

            <main class="main-panel">

                <div role="main" class="hide-when-search">

                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="">


<p>This document is meant as a quick reference guide, and should not be substituted for a comprehensive tutorial.</p>
<h2 id="requiredrecommended-tools">Required/Recommended tools</h2>
<p>You need Unity version 5.6.3. This is <strong>non-negotiable</strong>. Any patch version is compatible (p4, f). The link to the Unity version archive can be found <a href="https://unity3d.com/get-unity/download/archive">here</a>.</p>
<p><a href="https://drive.google.com/file/d/18P59DJL0tGRSTXaxXknVl9lFiLJ27Y_v/view">AssetStudioGUI</a> is an extremely useful tool for exporting packaged meshes and textures.</p>
<p>The <a href="https://drive.google.com/file/d/1bRHZrJxgPmE1PJGR_ty3i78mBfLTZQiB/view?usp=sharing">H3 Unity Template</a> contains all scripts and stubs for you to create firearms or other objects.</p>
<p>Once you have these, open Unity then open the folder of the template as a Unity project.</p>
<h2 id="unity-window-types">Unity Window Types</h2>
<p>There are a few types of windows inside of the unity editor.</p>
<p>Inspector</p>
<ul>
<li>The Inspector window shows you the details of the object you have selected.</li>
</ul>
<p>Hierarchy</p>
<ul>
<li>The Hierarchy shows the parent child relationships of your objects in the scene.</li>
<li>Objects that are selected here are not saved automatically, and must be applied through the Inspector window.</li>
</ul>
<p>Game</p>
<ul>
<li>This window shows what the camera in your scene is seeing.</li>
<li>Useful for taking pictures.</li>
</ul>
<p>Scene</p>
<ul>
<li>The Scene is a display of the objects in your hierarchy.</li>
<li>You can use the edit tools (move, rotate, etc.) in the top left of the Unity window to modify the objects placed in the scene.</li>
</ul>
<p>Project</p>
<ul>
<li>Commonly known as the Assets Tray, this area shows your file structure and saved prefabs.</li>
</ul>
<p>Asset bundles</p>
<ul>
<li>This window shows what asset labels you have and which items are included in them.</li>
<li>In the build section, you can build your asset labels to be used and shared.</li>
</ul>
<h2 id="importing-prefabs">Importing prefabs</h2>
<p>Got an item in mind that you want to make? Think of an item already in the game that is most like it, and which class it would belong in (melee, smg, rifle, etc.). Open your file explorer and go to your root H3VR folder, then navigate to <code>H3VR/h3vr_data/StreamingAssets/</code> and find that file. For example, if you wanted to make an smg, you would want to copy the <code>assets_resources_objectids_weaponry_smg</code> and <code>assets_resources_objectids_weaponry_smg.manifest</code> file.</p>
<p>Paste those files inside of your H3 unity template under assets (<code>H3 Unity Template/Assets/</code>).</p>
<p>You should have empty game object with the prefab loader script component in the unity window. If you don't have one, you can right-click in the <code>Hierarchy</code> on the left and click the <code>Create Empty</code> button. Once selected, in the <code>Inspector</code> tab on the right, click on the <code>Add Component</code> button and search for the prefab loader script.</p>
<p>Once you have a prefab loader object ready, fill it out with the fields you need.</p>
<ol>
<li>Open the <code>.manifest</code> file in any notepad program.</li>
<li>Find the <code>.prefab</code> path you want to copy. Note: <code>.asset</code>s cannot be used.</li>
<li>Fill in your prefab loader object with the path to your asset bundle you are extracting from, and the path you copied from its <code>.manifest</code> file.</li>
</ol>
<p>For example:</p>
<p>Prefab Path: <code>Assets/assets_resources_objectids_weaponry_smg</code></p>
<p>This is the location of the bundle you copied into your Unity project.</p>
<p>Prefab_to_Load: <code>Assets/Weaponry/SMGClosedBolt/Mp9.prefab</code></p>
<p>This is the path copied from the manifest file.</p>
<p>Press the pause button then the play button at the top of the screen, then drag the clone into your assets tray.</p>
<h2 id="importing-assets">Importing assets</h2>
<p>Importing assets is as easy as copying them to your Unity project. Its recommended to make them under a recognizable folder, such as <code>Materials</code>. This can be done by dragging and dropping them into the Assets tray, or by opening your OS's file explorer and copying them through there.</p>
<p>Assets can range from textures, meshes, or sounds.</p>
<p><strong>Alloy</strong> is the lighting system that H3VR uses, and because of that we need to create special materials to make sure that the item you are trying to create renders correctly.</p>
<p>Right click in the assets tray and click <code>Create &gt; Material</code> and rename it to the name of the item you are creating. When you click on it, change the type to <code>Alloy/Core</code>.</p>
<p><img src="images/UnityEditor/alloy_core.png" alt="alloy core"></p>
<p>From here, you need to fill in the three fields in the material. It needs a base/diffuse, a metal texture, and a normal. If you don't have a metal texture (which is 99% of cases) then you need to make one. Head on over to the <code>Material Map Channel Packer</code> in the window tab.</p>
<p><img src="images/UnityEditor/alloy_channel.png" alt="channel packer"></p>
<p>In the window that opens, drag your textures into the required fields. The normal is not required. After you hit generate, you will obtain a metal texture. Fill you material with your texture sets now (base/diffuse, metal, and normal).</p>
<h2 id="modifying-your-item">Modifying your item</h2>
<div class="NOTE">
<h5>Note</h5>
<p>GameObjects in your Hierarchy window are not saved, make sure to press the &quot;Apply&quot; button in the Inspector to save your changes.</p>
</div>
<p>Drag your item (that you should have renamed) into your Hierarchy, and expand it by clicking on the little arrow. You should see a lot of other items underneath it. Those are the children of your object that make up it.</p>
<p>Depending on the child, you might need to fill in a missing mesh or material depending on what kind of item you are creating.</p>
<p>When you select your item in the Hierarchy, you should see some green wire boxes. These boxes are physics colliders. Make sure they are somewhat accurate, but don't spend too much time since they only need to be somewhat accurate.</p>
<p>To add more, you can duplicate ones already made (by right-clicking in the Hierarchy and clicking duplicate) or by creating an empty game object (also in the Hierarchy) and adding the component you want in the Inspector window.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>Using anything other than sphere, capsule, or box colliders effects performance considerably. Avoid them at all costs.</p>
</div>
<p>Everything is dependent on the type of item you are trying to create, which cannot be explained in a guide like this. You will have to figure out the specifics on your own.</p>
<h2 id="required-assets">Required Assets</h2>
<p>To make sure your weapon works, you need to give it an object wrapper (found in the main script). The object wrapper is simply an object id, something that defines your item.</p>
<p>Among the item id, you also need:</p>
<ul>
<li>Item Spawner ID</li>
</ul>
<p>And depending on the if the item is a firearm or not:</p>
<ul>
<li>Recoil profile</li>
<li>Audio profile</li>
</ul>
<h2 id="filling-out-the-specifics">Filling out the specifics</h2>
<p>This next section will go over what needs to be filled out in each file detailed above. Included are example <code>.zip</code> files that include an empty script object and it's associated <code>.meta</code> file. You can extract these into your Unity project for reference and duplication. If for whatever reason the scrip file is empty, click on the little circle in the Inspector window and browse for the correct name of the script and press enter.</p>
<h3 id="item-id">Item ID</h3>
<p><a href="files/file_ID.zip">Script example download</a>. Script name: <code>FVRObject</code></p>
<p>The Item ID requires a few fields to be filled out:</p>
<p>Asset Name:
Location of your item relative to your Unity assets path. Example: <code>Assets/Project/MyGun/MyGun.prefab</code></p>
<p>Item ID, Display Name, Spawned From ID:
Identifiers of your item. To avoid confusion, should all be the same.</p>
<p>The rest of the fields should be filled out to your discretion. They are tags that relate to Take and Hold, so if you want your item to spawn in it they need to be filled out.</p>
<p>Finally, if you want your item to spawn in TnH, enabled the <code>O Sple</code> property.</p>
<h3 id="item-spawner-id">Item Spawner ID</h3>
<p><a href="files/file_ISID.zip">Script example download</a>. Script name: <code>ItemSpawnerID</code></p>
<p>The ISID can be made through the assets tray <code>Create &gt; ItemSpawner &gt; ID</code>, and the icon is just an image that has its metadata changed to be a sprite (clicking on the icon and changing the type in the inspector).</p>
<p>Make sure that you have <code>Is Displayed In Main Entry</code> and <code>Is Unlocked By Default</code> are set to true. This will allow you to see your item and spawn it. Set it's category and sub category so that you can find it (make sure that you set it to something used in the game already or else it won't load correctly). Set the sub heading to something you want, but its not required.</p>
<p>Fill out the icon with the one you made (not required), and set the <code>Item ID</code> field to the exact same string you used in the Item ID object just above. Drag your item id object into the <code>Main Object</code> field.</p>
<h3 id="recoil-profile">Recoil profile</h3>
<p><a href="files/file_Recoil.zip">Script example download</a>. Script name: <code>FVRFireArmRecoilProfile</code></p>
<p>This is just a bunch of number fields that determine your weapon's recoil.</p>
<p>If you want to simulate your referenced weapon, the follow the following steps:</p>
<ol>
<li>Press pause, then play to spawn prefab load the object.</li>
<li>In the Hierarchy, click on the newly cloned weapon.</li>
<li>Scroll down in the Inspector window until you find the location of the recoil profile that is required by all weapons.</li>
<li>Double click on it.</li>
<li>The Inspector should have changed to show your referenced weapon's recoil profile. Take a screenshot using <code>win + shift + s</code>, or any other snipping tool you may have for a quick reference.</li>
</ol>
<p>Make sure that you place your recoil profile in both slots in your weapon's main script.</p>
<h3 id="audio-profile">Audio Profile</h3>
<p><a href="files/file_Audio.zip">Script example download</a>. Script name: <code>FVRFirearmAudioSet</code></p>
<p>The Audio profile is exactly the same as the recoil profile, double check what your referenced weapon used by following the similar steps, taking pictures along the way. Make sure that you expand all clip sections and take note of which fields (such as <code>prefire</code>) are filled. Your weapon's audio profile <strong>must</strong> contain a sound in the same field.</p>
<p>AssetStudioGUI is a great tool to use here. Drag and drop the asset bundle you copied into your Unity project into the ASGUI window and wait for it to load. Select the <code>Asset List</code> tab and then search for the sound files that are required. You can right click on the sound files and click <code>Export Selected Assets</code>, and you can export them straight to your Unity project to use.</p>
<h2 id="building-your-item">Building your item</h2>
<p>Before building your item, you need to add a few items to your asset bundle list. To do this, select your prefab, item id, and item spawner id from the assets tray (using <code>ctrl + click</code>), then look at the bottom of the inspector tab. Here you will see a black box with a drop-down at the bottom. This is the asset label box, and allows you to select which items are bundled together.</p>
<p><img src="images/UnityEditor/assetbundle_select.png" alt="bundle selection"></p>
<p>In the drop down, create a new bundle name that is descriptive of your item. This usually is the name of your mod, but its recommended to include a short-form or your name as well for diagnostic purposes.</p>
<p>Next up, select the <code>AssetBundle Browser</code> from the <code>Window</code> tab.</p>
<p><img src="images/UnityEditor/assetbundle_browser_open.png" alt="assetbundle browser open"></p>
<p>This will open a small window. You can move the tab somewhere easier to see in another part of the unity editor.</p>
<p><img src="images/UnityEditor/assetbundle_browser.png" alt="browser"></p>
<p>In the <code>Configure</code> tab, you can select your asset label to see what is inside of your bundle that will be made. Everything that your item needs will be auto populated by unity, so don't worry about tracking things down.</p>
<p>In the <code>Build</code> tab, you can select the location where your bundle will be built to. It is recommended to just select your <code>H3VR/LegacyVirtualObjects</code> folder to make it easier to test. Make sure you have <code>Clear Folders</code> enabled, and <code>Copy to Streaming Assets</code> disabled.</p>
<p>Thats it, hit build and you are on your way to testing it.</p>
</article>
              
                </div>
            </main>
        </div>

        
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script type="text/javascript" src="../../styles/jquery.twbsPagination.js"></script>
<script type="text/javascript" src="../../styles/url.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script type="text/javascript" src="../../styles/docfx.js"></script>
<script type="text/javascript" src="../../styles/main.js"></script>

    </body>

</html>
